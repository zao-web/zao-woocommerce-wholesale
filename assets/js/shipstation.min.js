/*! Zao WooCommerce Wholesale - v0.1.0 - 2017-08-22 | https://zao.is | Copyright (c) 2017 Zao | Licensed  */

window.ZWOOWH=window.ZWOOWH||{},function(t,e,i,s,n){"use strict";s.shipStation={};var o=s.shipStation;o.cache=function(){s.$.get_rates_button=s.$get("get_shipstation_rates"),s.$.shipSpinner=i(".shipstation-spinner"),o.order_id=i("#post_ID").val()},o.init=function(){o.cache(),s.$.get_rates_button.on("click",o.getRates)},o.setRates=function(t){s.$.shipSpinner.addClass("is-active");var e=i(this),n=e.data("price"),o=e.val();console.log(n),console.log(o)},o.getRates=function(e){s.$.shipSpinner.addClass("is-active"),i("#shipstation-rates").length&&i("#shipstation-rates").remove(),i.post(t.ajaxurl,{action:"get_shipstation_rates",order_id:o.order_id},function(t){console.log(t);var e=i('<select id="shipstation-rates" />').insertBefore(s.$.get_rates_button);e.append('<option value="">'+s.l10n.selectShipping+"</option>"),i.each(t.data,function(t,i){e.append('<option data-price="'+i.shipmentCost.toFixed(2)+'" value="'+i.serviceCode+'">'+i.serviceName+" - $"+i.shipmentCost.toFixed(2)+"</option>")}),e.select2().on("select2:select",s.setRates),s.$.shipSpinner.removeClass("is-active")},"json")},i(o.init)}(window,document,jQuery,window.ZWOOWH);