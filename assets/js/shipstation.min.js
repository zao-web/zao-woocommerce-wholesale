/*! Zao WooCommerce Wholesale - v0.1.0 - 2017-08-22 | https://zao.is | Copyright (c) 2017 Zao | Licensed  */

window.ZWOOWH=window.ZWOOWH||{},function(t,e,i,n,s){"use strict";n.shipStation={};var o=n.shipStation;o.cache=function(){n.$.get_rates_button=n.$get("get_shipstation_rates"),n.$.shipSpinner=i(".shipstation-spinner"),o.order_id=i("#post_ID").val()},o.init=function(){o.cache(),n.$.get_rates_button.on("click",o.getRates)},o.setRates=function(t){n.$.shipSpinner.addClass("is-active");var e=i(this),s=e.data("price"),o=e.val();console.log(s),console.log(o)},o.getRates=function(e){n.$.shipSpinner.addClass("is-active"),i("#shipstation-rates").length&&i("#shipstation-rates").remove(),i.post(t.ajaxurl,{action:"get_shipstation_rates",order_id:o.order_id},function(t){console.log(t);var e=i('<select id="shipstation-rates" />').insertBefore(n.$.get_rates_button);e.append('<option value="">'+n.l10n.selectShipping+"</option>"),i.each(t.data,function(t,i){e.append('<option data-price="'+i.shipmentCost.toFixed(2)+'" value="'+i.serviceCode+'">'+i.serviceName+" - $"+i.shipmentCost.toFixed(2)+"</option>")}),e.select2(),e.on("change",n.setRates),n.$.shipSpinner.removeClass("is-active")},"json")},i(o.init)}(window,document,jQuery,window.ZWOOWH);